- type: custom-api
  hide-header: true
  title: Refresh Countdown
  template: |
    <div style="width: 100%;">
      <style>
         .cd-seconds { font-size: 0.85em; color: var(--color-paragraph, #9ca3af); margin-bottom: 6px; text-align: left; }
         .cd-container { width: 100%; height: 5px; background: #000; border-radius: 999px; overflow: hidden; border: 1px solid #333; }
         .cd-bar { height: 100%; width: 100%; background: #d4b000; opacity: 0.9; animation: cd-shrink 600s linear forwards; }
        @keyframes cd-shrink { from { width: 100%; } to { width: 0%; } }
      </style>
       <div class="cd-seconds" id="cd-seconds">600s</div>
      <div class="cd-container">
        <div class="cd-bar"></div>
      </div>
       <script>
         (function(){
           var duration = 600; // seconds
           var start = Date.now();
           var el = document.getElementById('cd-seconds');
           function tick(){
             var elapsed = Math.floor((Date.now() - start) / 1000);
             var remaining = Math.max(0, duration - elapsed);
             if (el) el.textContent = remaining + 's';
             if (remaining > 0) requestAnimationFrame(tick);
           }
           requestAnimationFrame(tick);
         })();
       </script>
    </div>
